{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { UseAuthContext } from \"./UseAuthContext\";\nimport { UseProductContext } from './UseProductContext';\nexport const UseNewProduct = () => {\n  _s();\n\n  const [error, setError] = useState(null);\n  const [isloading, setIsloading] = useState(false);\n  const {\n    user\n  } = UseAuthContext();\n  const {\n    dispatch\n  } = UseProductContext();\n\n  const NewProduct = async (title, about, price, category, number, instagram, telegram) => {\n    setIsloading(true);\n    setError(null);\n    const response = await fetch('/api/products', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `Bearer ${user.token}`\n      },\n      body: JSON.stringify({\n        title,\n        about,\n        price,\n        category,\n        number,\n        instagram,\n        telegram\n      })\n    });\n    const json = await response.json();\n\n    if (response.ok) {\n      setIsloading(false);\n      dispatch({\n        type: \"CREATE_PRODUCT\",\n        payload: json\n      });\n    }\n\n    if (!response.ok) {\n      setIsloading(false);\n      setError(json.error);\n    }\n  };\n\n  return {\n    error,\n    isloading,\n    NewProduct\n  };\n};\n\n_s(UseNewProduct, \"v1a2RqR1grC4yNMc1fExh8nai0w=\");\n\n_c = UseNewProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseNewProduct\");","map":{"version":3,"names":["useState","UseAuthContext","UseProductContext","UseNewProduct","error","setError","isloading","setIsloading","user","dispatch","NewProduct","title","about","price","category","number","instagram","telegram","response","fetch","method","headers","token","body","JSON","stringify","json","ok","type","payload"],"sources":["C:/Users/moham/Documents/customersell/frontend/src/hooks/UseNewProduct.js"],"sourcesContent":["import { useState } from \"react\"\r\nimport { UseAuthContext } from \"./UseAuthContext\"\r\nimport {UseProductContext} from './UseProductContext'\r\n\r\nexport const UseNewProduct = () => {\r\n    const [error,setError] = useState(null)\r\n    const [isloading,setIsloading] = useState(false)\r\n    const {user} = UseAuthContext()\r\n    const {dispatch} = UseProductContext()\r\n\r\n    const NewProduct = async (title,about,price,category,number,instagram,telegram) => {\r\n        setIsloading(true)\r\n        setError(null)\r\n\r\n        const response =  await fetch('/api/products',{\r\n            method : 'POST',\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\",\r\n                'Authorization' : `Bearer ${user.token}`\r\n            },\r\n            body : JSON.stringify({title,about,price,category,number,instagram,telegram})\r\n        })\r\n        const json = await response.json()\r\n\r\n        if (response.ok){\r\n            setIsloading(false)\r\n            dispatch({type : \"CREATE_PRODUCT\",payload : json})\r\n        }\r\n        if (!response.ok){\r\n            setIsloading(false)\r\n            setError(json.error)\r\n        }\r\n    }\r\n\r\n    return {error,isloading,NewProduct}\r\n}"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAAQC,iBAAR,QAAgC,qBAAhC;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;EAAA;;EAC/B,MAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBL,QAAQ,CAAC,IAAD,CAAjC;EACA,MAAM,CAACM,SAAD,EAAWC,YAAX,IAA2BP,QAAQ,CAAC,KAAD,CAAzC;EACA,MAAM;IAACQ;EAAD,IAASP,cAAc,EAA7B;EACA,MAAM;IAACQ;EAAD,IAAaP,iBAAiB,EAApC;;EAEA,MAAMQ,UAAU,GAAG,OAAOC,KAAP,EAAaC,KAAb,EAAmBC,KAAnB,EAAyBC,QAAzB,EAAkCC,MAAlC,EAAyCC,SAAzC,EAAmDC,QAAnD,KAAgE;IAC/EV,YAAY,CAAC,IAAD,CAAZ;IACAF,QAAQ,CAAC,IAAD,CAAR;IAEA,MAAMa,QAAQ,GAAI,MAAMC,KAAK,CAAC,eAAD,EAAiB;MAC1CC,MAAM,EAAG,MADiC;MAE1CC,OAAO,EAAG;QACN,gBAAiB,kBADX;QAEN,iBAAmB,UAASb,IAAI,CAACc,KAAM;MAFjC,CAFgC;MAM1CC,IAAI,EAAGC,IAAI,CAACC,SAAL,CAAe;QAACd,KAAD;QAAOC,KAAP;QAAaC,KAAb;QAAmBC,QAAnB;QAA4BC,MAA5B;QAAmCC,SAAnC;QAA6CC;MAA7C,CAAf;IANmC,CAAjB,CAA7B;IAQA,MAAMS,IAAI,GAAG,MAAMR,QAAQ,CAACQ,IAAT,EAAnB;;IAEA,IAAIR,QAAQ,CAACS,EAAb,EAAgB;MACZpB,YAAY,CAAC,KAAD,CAAZ;MACAE,QAAQ,CAAC;QAACmB,IAAI,EAAG,gBAAR;QAAyBC,OAAO,EAAGH;MAAnC,CAAD,CAAR;IACH;;IACD,IAAI,CAACR,QAAQ,CAACS,EAAd,EAAiB;MACbpB,YAAY,CAAC,KAAD,CAAZ;MACAF,QAAQ,CAACqB,IAAI,CAACtB,KAAN,CAAR;IACH;EACJ,CAtBD;;EAwBA,OAAO;IAACA,KAAD;IAAOE,SAAP;IAAiBI;EAAjB,CAAP;AACH,CA/BM;;GAAMP,a;;KAAAA,a"},"metadata":{},"sourceType":"module"}