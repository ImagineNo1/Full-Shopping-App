{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\moham\\\\Documents\\\\customersell\\\\frontend\\\\src\\\\components\\\\AddComment.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { UseAuthContext } from '../hooks/UseAuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddComment = _ref => {\n  _s();\n\n  let {\n    id\n  } = _ref;\n  const [comment, setComment] = useState(null);\n  const [comerror, setComerror] = useState(null);\n  const [comloading, setComloading] = useState(false);\n  const {\n    user\n  } = UseAuthContext();\n\n  const PostComment = async () => {\n    setComloading(true);\n    const response = await fetch(`/api/products/comment/${id}`, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `Bearer ${user.token}`\n      },\n      body: JSON.stringify({\n        comment\n      })\n    });\n    const json = await response.json();\n\n    if (!response.ok) {\n      setComloading(false);\n      setComerror(json.error);\n      setTimeout(() => {\n        setComerror(null);\n      }, 2000);\n    }\n\n    if (response.ok) {\n      setComloading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container border border-primary\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-end lead pt-2 pe-2\",\n      children: \" \\u0646\\u0637\\u0631\\u0627\\u062A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group  mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input-group-text\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-pencil-square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: comment,\n        maxLength: 50,\n        onChange: e => setComment(e.target.value),\n        className: \"form-control text-end\",\n        placeholder: \"\\u0646\\u0637\\u0631 \\u062E\\u0648\\u062F \\u0631\\u0627 \\u0628\\u0647 \\u0627\\u0634\\u062A\\u0631\\u0627\\u06A9 \\u0628\\u06AF\\u0630\\u0627\\u0631\\u06CC\\u062F \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this), comment && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: comloading,\n        onClick: PostComment,\n        className: \"btn btn-outline-success mt-3 fw-btn\",\n        children: comloading ? \"در حال انتشار\" : \"انتشار نظر \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }, this), comerror && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border border-2 border-danger mt-2 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p-1\",\n          children: comerror\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddComment, \"eDmk2bWv2zRgqaZ3l4O0x/BKp4c=\");\n\n_c = AddComment;\nexport default AddComment;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddComment\");","map":{"version":3,"names":["useState","UseAuthContext","AddComment","id","comment","setComment","comerror","setComerror","comloading","setComloading","user","PostComment","response","fetch","method","headers","token","body","JSON","stringify","json","ok","error","setTimeout","e","target","value"],"sources":["C:/Users/moham/Documents/customersell/frontend/src/components/AddComment.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport {UseAuthContext} from '../hooks/UseAuthContext'\r\n\r\nconst AddComment = ({id}) => {\r\n\r\n    const[comment,setComment] = useState(null)\r\n    const [comerror,setComerror] = useState(null)\r\n    const [comloading,setComloading] = useState(false)\r\n    const {user} = UseAuthContext()\r\n    \r\n    const PostComment = async () => {\r\n        setComloading(true)\r\n        const response = await fetch(`/api/products/comment/${id}`,{\r\n            method : 'POST',\r\n            headers : {\r\n                \"Content-Type\" : \"application/json\",\r\n                'Authorization' : `Bearer ${user.token}`\r\n            },\r\n            body : JSON.stringify({comment})\r\n        })\r\n        const json = await response.json()\r\n\r\n        if (!response.ok){\r\n            setComloading(false)\r\n            setComerror(json.error)\r\n            setTimeout(()=>{\r\n                setComerror(null)\r\n            },2000)\r\n        }\r\n        if (response.ok) {\r\n            setComloading(false)\r\n\r\n        }\r\n    }\r\n\r\n    return ( \r\n        <div className=\"container border border-primary\">\r\n            <p className=\"text-end lead pt-2 pe-2\"> نطرات</p>\r\n                <div className=\"input-group  mt-3\">\r\n                        <span className=\"input-group-text\">\r\n                            <i className=\"bi bi-pencil-square\"></i>\r\n                        </span>\r\n                        <input \r\n                            type=\"text\" \r\n                            value={comment}\r\n                            maxLength = {50}\r\n                            onChange={(e)=>setComment(e.target.value)}\r\n                            className=\"form-control text-end\" \r\n                            placeholder=\"نطر خود را به اشتراک بگذارید \" />\r\n                </div>\r\n                { comment && (\r\n                    <div>\r\n                        <button\r\n                            disabled ={comloading}\r\n                            onClick={PostComment} \r\n                            className=\"btn btn-outline-success mt-3 fw-btn\">\r\n                                {comloading ? \"در حال انتشار\" : \"انتشار نظر \"} \r\n                        </button>\r\n                        {comerror && (\r\n                            <div className=\"border border-2 border-danger mt-2 text-center\">\r\n                                <p className=\"p-1\">{comerror}</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default AddComment;"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAAQC,cAAR,QAA6B,yBAA7B;;;AAEA,MAAMC,UAAU,GAAG,QAAU;EAAA;;EAAA,IAAT;IAACC;EAAD,CAAS;EAEzB,MAAK,CAACC,OAAD,EAASC,UAAT,IAAuBL,QAAQ,CAAC,IAAD,CAApC;EACA,MAAM,CAACM,QAAD,EAAUC,WAAV,IAAyBP,QAAQ,CAAC,IAAD,CAAvC;EACA,MAAM,CAACQ,UAAD,EAAYC,aAAZ,IAA6BT,QAAQ,CAAC,KAAD,CAA3C;EACA,MAAM;IAACU;EAAD,IAAST,cAAc,EAA7B;;EAEA,MAAMU,WAAW,GAAG,YAAY;IAC5BF,aAAa,CAAC,IAAD,CAAb;IACA,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAE,yBAAwBV,EAAG,EAA7B,EAA+B;MACvDW,MAAM,EAAG,MAD8C;MAEvDC,OAAO,EAAG;QACN,gBAAiB,kBADX;QAEN,iBAAmB,UAASL,IAAI,CAACM,KAAM;MAFjC,CAF6C;MAMvDC,IAAI,EAAGC,IAAI,CAACC,SAAL,CAAe;QAACf;MAAD,CAAf;IANgD,CAA/B,CAA5B;IAQA,MAAMgB,IAAI,GAAG,MAAMR,QAAQ,CAACQ,IAAT,EAAnB;;IAEA,IAAI,CAACR,QAAQ,CAACS,EAAd,EAAiB;MACbZ,aAAa,CAAC,KAAD,CAAb;MACAF,WAAW,CAACa,IAAI,CAACE,KAAN,CAAX;MACAC,UAAU,CAAC,MAAI;QACXhB,WAAW,CAAC,IAAD,CAAX;MACH,CAFS,EAER,IAFQ,CAAV;IAGH;;IACD,IAAIK,QAAQ,CAACS,EAAb,EAAiB;MACbZ,aAAa,CAAC,KAAD,CAAb;IAEH;EACJ,CAvBD;;EAyBA,oBACI;IAAK,SAAS,EAAC,iCAAf;IAAA,wBACI;MAAG,SAAS,EAAC,yBAAb;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEQ;MAAK,SAAS,EAAC,mBAAf;MAAA,wBACQ;QAAM,SAAS,EAAC,kBAAhB;QAAA,uBACI;UAAG,SAAS,EAAC;QAAb;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADR,eAIQ;QACI,IAAI,EAAC,MADT;QAEI,KAAK,EAAEL,OAFX;QAGI,SAAS,EAAI,EAHjB;QAII,QAAQ,EAAGoB,CAAD,IAAKnB,UAAU,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAV,CAJ7B;QAKI,SAAS,EAAC,uBALd;QAMI,WAAW,EAAC;MANhB;QAAA;QAAA;QAAA;MAAA,QAJR;IAAA;MAAA;MAAA;MAAA;IAAA,QAFR,EAcUtB,OAAO,iBACL;MAAA,wBACI;QACI,QAAQ,EAAGI,UADf;QAEI,OAAO,EAAEG,WAFb;QAGI,SAAS,EAAC,qCAHd;QAAA,UAISH,UAAU,GAAG,eAAH,GAAqB;MAJxC;QAAA;QAAA;QAAA;MAAA,QADJ,EAOKF,QAAQ,iBACL;QAAK,SAAS,EAAC,gDAAf;QAAA,uBACI;UAAG,SAAS,EAAC,KAAb;UAAA,UAAoBA;QAApB;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QARR;IAAA;MAAA;MAAA;MAAA;IAAA,QAfZ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAgCH,CAhED;;GAAMJ,U;;KAAAA,U;AAkEN,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}